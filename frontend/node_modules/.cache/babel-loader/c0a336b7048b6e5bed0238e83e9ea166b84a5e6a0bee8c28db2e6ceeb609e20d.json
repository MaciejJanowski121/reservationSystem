{"ast":null,"code":"var _jsxFileName = \"/Users/maciejjanowski/IdeaProjects/reservationSystem/reservationSystem/frontend/src/components/Header.jsx\",\n  _s = $RefreshSig$();\nimport { Link, useLocation } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport '../styles/header.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Header() {\n  _s();\n  const location = useLocation();\n  const [isLogged, setIsLogged] = useState(false);\n  const [role, setRole] = useState(null);\n  useEffect(() => {\n    const check = async () => {\n      try {\n        const res = await fetch(\"http://localhost:8080/auth/auth_check\", {\n          credentials: \"include\"\n        });\n        if (res.ok) {\n          const data = await res.json();\n          setIsLogged(true);\n          setRole(data.role);\n        } else {\n          setIsLogged(false);\n          setRole(null);\n        }\n      } catch {\n        setIsLogged(false);\n        setRole(null);\n      }\n    };\n    check();\n  }, [location.pathname]);\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"navbar\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navbar-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar-logo\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"Restaurant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar-links\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: location.pathname === \"/\" ? \"active\" : \"\",\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), !isLogged && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            className: location.pathname === \"/register\" ? \"active\" : \"\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            className: location.pathname === \"/login\" ? \"active\" : \"\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true), isLogged && role !== \"ROLE_ADMIN\" && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/myaccount\",\n          className: location.pathname === \"/myaccount\" ? \"active\" : \"\",\n          children: \"My Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), isLogged && role === \"ROLE_ADMIN\" && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin\",\n          className: location.pathname === \"/admin\" ? \"active\" : \"\",\n          children: \"Admin Panel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n_s(Header, \"2H/Cu0lkTuji0xaYqmy1ibWBN5g=\", false, function () {\n  return [useLocation];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["Link","useLocation","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Header","_s","location","isLogged","setIsLogged","role","setRole","check","res","fetch","credentials","ok","data","json","pathname","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/maciejjanowski/IdeaProjects/reservationSystem/reservationSystem/frontend/src/components/Header.jsx"],"sourcesContent":["import { Link, useLocation } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport '../styles/header.css';\n\nfunction Header() {\n    const location = useLocation();\n    const [isLogged, setIsLogged] = useState(false);\n    const [role, setRole] = useState(null);\n\n    useEffect(() => {\n        const check = async () => {\n            try {\n                const res = await fetch(\"http://localhost:8080/auth/auth_check\", {\n                    credentials: \"include\",\n                });\n\n                if (res.ok) {\n                    const data = await res.json();\n                    setIsLogged(true);\n                    setRole(data.role);\n                } else {\n                    setIsLogged(false);\n                    setRole(null);\n                }\n            } catch {\n                setIsLogged(false);\n                setRole(null);\n            }\n        };\n\n        check();\n    }, [location.pathname]);\n\n    return (\n        <header className=\"navbar\">\n            <div className=\"navbar-container\">\n                {/* Logo / Brand */}\n                <div className=\"navbar-logo\">\n                    <Link to=\"/\">Restaurant</Link>\n                </div>\n\n                {/* Links */}\n                <nav className=\"navbar-links\">\n                    <Link to=\"/\" className={location.pathname === \"/\" ? \"active\" : \"\"}>Home</Link>\n\n                    {!isLogged && (\n                        <>\n                            <Link to=\"/register\" className={location.pathname === \"/register\" ? \"active\" : \"\"}>\n                                Register\n                            </Link>\n                            <Link to=\"/login\" className={location.pathname === \"/login\" ? \"active\" : \"\"}>\n                                Login\n                            </Link>\n                        </>\n                    )}\n\n                    {isLogged && role !== \"ROLE_ADMIN\" && (\n                        <Link to=\"/myaccount\" className={location.pathname === \"/myaccount\" ? \"active\" : \"\"}>\n                            My Account\n                        </Link>\n                    )}\n\n                    {isLogged && role === \"ROLE_ADMIN\" && (\n                        <Link to=\"/admin\" className={location.pathname === \"/admin\" ? \"active\" : \"\"}>\n                            Admin Panel\n                        </Link>\n                    )}\n                </nav>\n            </div>\n        </header>\n    );\n}\n\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}